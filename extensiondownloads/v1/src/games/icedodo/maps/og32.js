var map = {
    title: "Too Many Cones",
    song: "env2",
    maker: "dododo73",
    spawn: [0, 0.5, 0],
    init: function() {

	function pup(a2, b, c, d, e, f, g, h, i, j) {
		a.og(a2,b,c,d,e,f,g,h,i,j);
	}

	a.og('ice', 0,0,0,0,0,0,2 ,0.1 ,4 );
	a.og('ice', 0,0,-3.94,0,0,0,2 ,0.1 ,4 );
	a.og('ice', 0.523,0,-7.515,16.182,0,0,2 ,0.1 ,4 );
	//a.og_c(0.094,-3.94,0);
	//a.og_c(0.094,-5.004,-0.837);
	a.og_c(0.094,-5.004,0.451);
	//a.og_c(0.094,-4.47,0.593);
	a.og_c(0.094,-3.94,0.879);
	//a.og_c(0.094,-5.984,0.387);
	a.og_c(0.094,-6.514,0.195);
	//a.og_c(0.094,-7.048,-0.116);
	a.og('ice', 1.4,0,-11.156,16.182,0,0,0.776 ,0.1 ,4 );
	//a.og_c(0.094,-7.684,-0.377);
	//a.og_c(0.094,-8.387,-0.572);
	a.og_c(0.094,-9.093,-0.697);
	a.og_c(0.094,-8.985,-1.723);
	//a.og_c(0.094,-8.387,-1.645);
	//a.og_c(0.094,-7.684,-1.462);
	a.og('ice', 2.441,0,-14.743,16.182,0,0,2 ,0.1 ,4 );
	a.og('ice', 4.094,0,-18.408,-10.088,0,0,2 ,0.1 ,4 );
	a.og('ice', 3.414,0,-22.23,35.337,0,0,2 ,0.1 ,4 );
	a.og('ice', 0,0,0,0,0,0,0,0,0);
	a.og('ice', 4.648,0,-26.064,-3.326,0,0,0.704 ,0.1 ,5.689 );
	a.og('ice', 4.638,0,-30.466,35.337,0,0,2 ,0.1 ,4 );
	a.og('ice', 5.555,0,-33.422,0,0,0,2 ,0.1 ,4 );
	a.og_c(0.094,-16.806,-4.168);
	a.og_c(0.094,-17.709,-4.168);
	a.og_c(0.094,-18.803,-4.168);
	//a.og_c(0.094,-21.382,-2.418);
	//a.og_c(0.094,-21.986,-2.729);
	a.og_c(0.094,-22.525,-2.977);
	a.og_c(0.094,-23.266,-5.071);
	a.og_c(0.094,-30.462,-3.943);
	a.og_c(0.094,-29.333,-3.943);
	a.og_c(0.094,-31.411,-5.889);
	a.og_c(0.094,-32.541,-5.889);
	a.og_c(0.094,-34.768,-5.889);
	a.og_c(0.094,-33.638,-5.889);
	a.og('ice', 4.979,0,-36.908,0,0,0,0.857 ,0.1 ,4 );
	a.og('ice', 5.8,0,-40.349,0,0,0,1 ,0.1 ,4 );
	a.og('ice', 4.396,0,-43.604,0,0,0,2 ,0.1 ,4 );
	a.og_c(0.094,-44.409,-4.623);
	a.og_c(0.094,-45.358,-4.966);
	a.og_c(0.094,-42.916,-4.083);
	a.og_c(0.094,-41.91,-3.719);
	a.og('ice', 3.314,0,-47.28,0,0,0,1 ,0.1 ,4 );
	a.og('ice', 3.314,0.168,-49.954,0,7.698,0,1 ,0.1 ,4 );
	a.og('ice', 3.314,0.418,-53.964,0,0,0,1 ,0.1 ,4 );
	a.og('ice', 5.358,0,-56.355,29.002,0,0,1 ,0.1 ,6.603 );
	a.og('ice', 4.576,-0.143,-53.927,0,0,33.998,1.923 ,0.1 ,4 );
	a.og('ice', 6.123,0.113,-59.117,0,0,-13.489,1.923 ,0.1 ,7.165 );
	a.og('ice', 4.618,0,-63.352,-27.937,0,0,1 ,0.1 ,6.603 );
	a.og('ice', 2.764,0,-67.901,0,0,0,2 ,0.1 ,4 );
	a.og_c(0.094,-69.999,-2.301);
	a.og_c(0.094,-70.74,-3.171);
	a.og_c(0.094,-72.307,-5.01);
	a.og_c(0.094,-71.676,-4.269);
	a.og('ice', 3.601,0,-71.027,29.669,0,0,2 ,0.1 ,4 );
	a.og('ice', 4.364,0,-74.308,0,0,0,2 ,0.1 ,4 );
	a.og_c(0.094,-72.744,-4.638);
	a.og_c(0.094,-73.765,-3.768);
	a.og_c(0.094,-74.693,-4.858);
	a.og_c(0.094,-75.952,-3.785);
	a.og('ice', 4.772,0,-78.184,0,0,0,0.816 ,0.1 ,4 );
	a.og('ice', 5.357,0,-81.77,19.29,0,0,0.816 ,0.1 ,4 );
	a.og('ice', 5.671,0,-83.844,0,0,0,2 ,0.1 ,1.028 );
	a.og('ice', 5.993,0.193,-85.76,0,8.513,0,0.916 ,0.1 ,4 );
	a.og('ice', 6.75,0.555,-88.177,0,8.513,0,0.916 ,0.1 ,1.933 );
	a.og('ice', 6.027,0.815,-89.913,0,8.513,0,0.916 ,0.1 ,1.933 );
	a.og('ice', 6.642,0.962,-90.899,28.003,7.528,3.986,0.916 ,0.1 ,1.933 );
	a.og('ice', 7.952,1.229,-92.685,0,8.513,0,2.721 ,0.1 ,2.946 );
	a.og('ice', 7.952,1.401,-96.075,0,0,0,2 ,0.1 ,4 );
	a.og('ice', 7.895,0,-105.753,0,0,0,2 ,0.1 ,5.544 );
	a.og('ice', 10.594,0,-105.753,0,0,0,0.978 ,0.1 ,5.544 );
	a.og('ice', 5.195,0,-105.753,0,0,0,0.978 ,0.1 ,5.544 );
	a.og('ice', 7.895,0,-111.06,0,0,0,6.321 ,0.1 ,5.544 );
	a.og('ice', 7.895,0,-115.978,0,0,0,2 ,0.1 ,5.544 );
	a.og('ice', 7.895,0,-119.046,0,0,0,8.561 ,0.1 ,0.955 );
	a.og('brown', 7.895,0,-120.758,0,0,0,2 ,0.1 ,3 );
	a.og('brown', 7.895,0,-123.541,0,0,0,2 ,0.1 ,3 );
	a.og('brown', 7.895,0,-126.426,0,0,0,2 ,0.1 ,3 );
	a.og('brown', 7.895,0,-128.261,0,0,0,8.561 ,0.1 ,0.955 );

	//a.og_c(0.094,-83.823,-5.162);
	//a.og_c(0.094,-83.843,-6.342);
	//a.og_c(0.637,-88.272,-6.958);
	//a.og_c(0.848,-89.834,-5.936);
	//a.og_c(0.094,-118.939,-4.38);
	//a.og_c(0.094,-118.939,-7.901);
	//a.og_c(0.094,-118.939,-11.728);
	//a.og_c(0.094,-112.829,-7.901);
	//a.og_c(0.094,-115.88,-7.219);
	a.og_c(0.094,-128.283,-11.728);
	a.og_c(0.094,-128.283,-7.901);
	a.og_c(0.094,-128.283,-4.38);

	// 2nd part
	a.og('ice', 6.261,0,-130.13,0,0,0,1 ,0.1 ,3 );
	a.og('ice', 9.704,0,-130.13,0,0,0,1 ,0.1 ,3 );
	a.og('ice', 7.895,0,-131.815,0,0,0,8.561 ,0.1 ,0.955 );
	a.og('ice', 9.118,0,-133.498,0,0,0,1 ,0.1 ,3 );
	a.og('ice', 6.973,0,-133.498,0,0,0,1 ,0.1 ,3 );
	a.og_c(0.094,-131.806,-5.757);
	//a.og_c(0.094,-131.806,-10.146);
	//a.og_c(0.094,-131.802,-7.901);
	a.og('ice', 8.013,0,-137.825,0,0,0,3 ,0.1 ,6 );
	//a.og_c(0.094,-137.391,-7.59);
	//a.og_c(0.094,-140.424,-7.901);
	//a.og_c(0.094,-140.424,-8.573);
	//a.og_c(0.094,-140.424,-9.192);
	//a.og_c(0.094,-137.391,-6.923);
	a.og('ice', 6.725,0,-143.738,0,0,0,3 ,0.1 ,6 );
	a.og_c(0.094,-144.421,-7.397);
	//a.og_c(0.094,-144.421,-6.778);
	a.og_c(0.094,-144.421,-6.106);
	a.og('ice', 8.82,0,-147.299,0,0,0,2 ,0.1 ,4 );
	a.og('ice', 9.593,0,-151.622,0,0,0,1 ,0.1 ,6 );
	a.og('ice', 8.146,0,-151.622,0,0,0,1 ,0.1 ,6 );
	//a.og_c(0.094,-149.115,-8.126);
	a.og_c(0.094,-149.115,-9.622);
	//a.og_c(0.094,-149.87,-9.622);
	a.og_c(0.094,-149.87,-8.126);
	//a.og_c(0.094,-150.655,-8.126);
	//a.og_c(0.094,-150.655,-9.622);
	//a.og_c(0.094,-151.441,-9.622);
	//a.og_c(0.094,-151.441,-8.126);
	//a.og_c(0.094,-152.949,-8.126);
	//a.og_c(0.094,-152.949,-9.622);
	//a.og_c(0.094,-152.164,-9.622);
	//a.og_c(0.094,-152.164,-8.126);
	a.og_c(0.094,-153.664,-8.126);
	//a.og_c(0.094,-153.664,-9.622);
	a.og('ice', 8.82,0,-156.354,0,0,0,2 ,0.1 ,4 );
	a.og('ice', 9.918,0,-159.069,41.447,0,0,2 ,0.1 ,4 );
	a.og('ice', 12.699,0,-161.267,59.62,0,0,2 ,0.1 ,4 );
	a.og('ice', 15.803,0,-162.448,80.28,0,0,2 ,0.1 ,4 );
	a.og('ice', 20.501,0,-167.254,80.28,0,0,2 ,0.1 ,4 );
	a.og('ice', 23.798,0,-168.528,59.55,0,0,2 ,0.1 ,4 );
	a.og('ice', 17.775,0,-164.841,38.522,0,0,0.557 ,0.1 ,5.685 );
	a.og('ice', 19.346,0,-164.721,38.522,0,0,0.557 ,0.1 ,5.685 );
	a.og('ice', 26.566,0,-171.447,34.652,0,0,2 ,0.1 ,5.219 );
	a.og('ice', 27.662,0,-175.541,-1.465,0,0,2 ,0.1 ,5.219 );
	a.og('ice', 27.573,0,-179.721,0,0,0,0.832 ,0.1 ,5.219 );
	a.og('ice', 26.729,0,-184.031,0,0,0,0.832 ,0.1 ,5.219 );
	a.og('ice', 25.702,0,-188.408,-31.196,0,0,2 ,0.1 ,5.219 );
	a.og('ice', 22.544,0,-192.348,-43.558,0,0,2 ,0.1 ,5.219 );
	a.og('ice', 19.845,0,-195.651,0,0,0,2 ,0.1 ,5.219 );
	a.og('ice', 18.186,0,-200.67,0,0,0,2 ,0.1 ,5.219 );
	a.og('ice', 17.922,0,-206.678,0,0,0,2.692 ,0.1 ,7.601 );
	a.og('ice', 25.497,0,-218.181,0,0,0,2.692 ,0.1 ,7.601 );
	a.og('ice', 22.369,0,-212.164,48.71,0,0,1.149 ,0.1 ,10 );
	a.og('ice', 21.344,0,-213.663,48.71,0,0,0.324 ,0.1 ,10 );
	a.og('ice', 26.839,0,-222.735,32.621,0,0,2 ,0.1 ,4 );
	a.og('ice', 27.881,0,-225.791,0,0,0,2 ,0.1 ,4 );
	//a.og_c(0.094,-159.21,-9.622);
	//a.og_c(0.094,-159.959,-10.542);
	//a.og_c(0.094,-159.959,-11.649);
	//a.og_c(0.094,-161.358,-11.649);
	//a.og_c(0.094,-162.097,-14.596);
	//a.og_c(0.094,-162.556,-15.697);
	a.og_c(0.094,-163.012,-16.813);
	//a.og_c(0.094,-167.447,-19.236);

	//a.og_c(0.094,-167.095,-22.668);

	a.og_c(0.094,-171.653,-26.932);
	//a.og_c(0.094,-175.131,-28.353);
	//a.og_c(0.094,-177.103,-27.04);
	//a.og_c(0.094,-181.791,-26.594);
	a.og_c(0.094,-186.905,-27.287);
	//a.og_c(0.094,-193.949,-19.379);
	//a.og_c(0.094,-195.437,-19.379);
	a.og_c(0.094,-197.311,-20.155);
	a.og_c(0.094,-198.722,-17.848);
	a.og_c(0.094,-200.042,-17.848);
	//a.og_c(0.094,-202.282,-17.848);
	//a.og_c(0.094,-204.037,-17.089);
	//a.og_c(0.094,-209.594,-18.516);
	a.og_c(0.094,-207.519,-18.255);
	//a.og_c(0.094,-208.521,-18.097);
	//a.og_c(0.094,-206.408,-18.502);
	//a.og_c(0.094,-206.408,-18.502);
	//a.og_c(0.094,-206.408,-18.502);


	a.og_end(-27.881, 0, -225.791, 0);

	map.number = 0.0;
},
	post: function() {
		cc.set_monkey("speed", 0.2);
		cc.set_monkey("steer", 0.03);
		cc.refresh();
	},
    section_id: 0,
    section_update: function() {
    },
    reset: function() {
        this.section_id = 0;
		cleanup.run(false);
		this.init();
    },
    physics_update: function() {},
    render_update: function() {
    	iv(player, scene);
    }
}

function iv(box, scene) {
	
	//if (box.position.z < -149) {scene.getMeshByName('P38').position.x += 0.5 *  0.1;}

	if (box.position.z < -1) {
		if ((box.position.z < -97) && (box.position.z > -104)) {
			speed = 0.5 * 1.8;
		} else {
			speed = 0.5 * 0.4;
		}
	}
	if ((box.position.z < -80) && (box.position.z > -128)) {
		map.number += 0.5 *  0.1;
		scene.getMeshByName('P39').position.x = (Math.sin(map.number)) - 7.895;
		scene.getMeshByName('P40').position.x = (Math.sin(map.number) * -1) - 7.895;
		scene.getMeshByName('P41').position.x = (Math.sin(map.number)) - 7.895;
	}
}


