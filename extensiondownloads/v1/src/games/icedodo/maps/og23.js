var map = {
    title: "Hop 2 3 4",
    song: "env2",
    maker: "dododo73",
    spawn: [0, 0.5, 0],
    init: function() {

		function pup(a2, b, c, d, e, f, g, h, i, j) {
			a.og(a2,b,c,d,e,f,g,h,i,j);
		}

		a.og('ice', 0,0,0,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 0.574,0,-3.427,20.15,0,0,2 ,0.1 ,4 );
		a.og('ice', 1.708,0.194,-6.519,20.15,7.91,0,1.058 ,0.1 ,4 );
		a.og('ice', 1.515,0.583,-9.572,20.15,7.91,0,1.058 ,0.1 ,4 );
		a.og('ice', 1.32,0.974,-12.642,20.15,7.91,0,1.058 ,0.1 ,4 );
		a.og('ice', 1.145,1.381,-15.828,0,7.91,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,1.62,-19.77,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,1.175,-23.684,0,-11.769,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,1.62,-19.77,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,0.733,-27.561,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,0.733,-31.136,0,0,0,0.528 ,0.1 ,4 ); //10
		a.og('ice', 1.145,0.733,-34.921,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,0.733,-38.577,0,0,0,4.025 ,0.1 ,4 );
		a.og('ice', -0.556,0.733,-42.348,0,0,0,1.231 ,0.1 ,4 );
		a.og('ice', 2.706,0.733,-42.348,0,0,0,1.231 ,0.1 ,4 );
		a.og('ice', 1.145,0.733,-45.71,0,0,0,4.025 ,0.1 ,4 );
		a.og('ice', 1.145,0.733,-49.396,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,0.993,-53.268,0,9.031,0,2 ,0.1 ,4 );
		a.og('ice', 1.145,1.273,-55.847,0,0,0,2 ,0.1 ,1.168 );
		a.og('ice', 1.145,1.273,-58.299,0,0,0,1.343 ,0.1 ,4.018 );
		a.og('ice', 1.145,1.273,-62.198,0,0,0,2.335 ,0.1 ,4.018 ); //20
		a.og('green', 1.145,1.273,-70.23,0,0,0,5.562 ,0.1 ,11.816 );
		a.og('green', 1.145,1.273,-83.171,0,0,0,5.562 ,0.1 ,6.524 );
		a.og('ice', 1.145,1.516,-75.694,0,0,0,5.562 ,0.908 ,0.563 );
		a.og('ice', 1.145,1.516,-80.033,0,0,0,5.562 ,0.908 ,0.563 );
		a.og('ice', 1.145,1.59,-72.41,0,6.661,0,1.863 ,0.1 ,6.706 );
		a.og('green', 1.145,1.273,-89.502,0,0,0,2 ,0.1 ,6.524 );
		a.og('green', 2.226,1.273,-95.458,19.633,0,0,2 ,0.1 ,6.524 );
		a.og('green', 3.507,1.273,-101.51,5.41,0,0,2 ,0.1 ,6.524 );
		a.og('green', 2.276,1.273,-106.471,0,0,0,2 ,0.1 ,3.693 );
		a.og('ice', 2.276,1.501,-110.956,0,5.206,0,2 ,0.1 ,5.971 ); //30
		a.og('ice', 3.952,2.007,-116.511,0,5.206,0,2 ,0.1 ,5.971 );
		a.og('ice', 2.324,2.354,-120.314,0,5.206,0,2 ,0.1 ,2 );
		a.og('ice', 3.926,2.523,-122.171,0,5.206,0,2 ,0.1 ,2 );
		a.og('ice', 3.926,2.595,-124.143,0,0,0,2 ,0.1 ,2 );
		a.og('ice', 3.926,2.595,-126,0,0,0,2 ,0.1 ,1 ); // 35 rotte
		a.og('ice', 3.926,2.595,-128,0,0,0,2 ,0.1 ,1 ); // 36 rotte
		a.og('ice', 3.926,2.595,-130,0,0,0,2 ,0.1 ,1 ); // 37 rotte
		a.og('ice', 3.926,2.595,-132,0,0,0,1 ,0.1 ,2 ); // 38 rotte
		a.og('ice', 3.926,2.595,-134,0,0,0,1 ,0.1 ,2 ); // 39 rotte
		a.og('ice', 3.926,2.595,-136,0,0,0,1 ,0.1 ,2 ); // 40 rotte
		a.og('ice', 3.926,2.595,-138,0,0,0,1 ,0.1 ,2 ); // 41 rotte
		
		a.og('ice', 3.926,2.595,-140.594,0,0,0,4.007 ,0.1 ,3.709 );
		a.og('ice', 3.926,2.882,-143.974,0,10.08,0,4.007 ,0.1 ,3.709 );
		a.og('ice', 3.926,3.15,-147.671,0,0,0,4.007 ,0.1 ,3.709 );
		a.og('ice', 3.926,3.15,-151.354,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 4.427,3.15,-154.993,14.703,0,0,2 ,0.1 ,4 );
		a.og('ice', 4.301,3.15,-158.644,0,0,0,0.836 ,0.1 ,4 );
		a.og('ice', 4.301,3.015,-164.15,0,0,0,0.836 ,0.1 ,4 );
		a.og('fire', 4.301,3.26,-167.475,0,9.019,0,0.836 ,0.1 ,4 );
		a.og('fire', 4.301,3.823,-171.028,0,9.019,0,2 ,0.1 ,4 ); //50
		a.og('fire', 4.301,4.112,-173.418,0,0,0,2 ,0.1 ,0.818 );
		a.og('fire', 3.714,4.112,-174.552,-18.676,0,0,0.966 ,0.1 ,2.15 );
		a.og('fire', 2.483,4.112,-176.535,-40.315,0,0,1 ,0.1 ,3 );
		a.og('fire', 1.07,4.112,-178.775,-20.078,0,0,1 ,0.1 ,3 );
		a.og('fire', 0,4.112,-181.181,0,0,0,2 ,0.1 ,4 );
		a.og('fire', 0,4.112,-184.334,0,0,0,0.5 ,0.1 ,2.782 );
		a.og('fire', 0.2,4.112,-186.867,0,0,0,0.1 ,0.1 ,2.782 );
		a.og('fire', -0.2,4.112,-186.867,0,0,0,0.1 ,0.1 ,2.782 );
		a.og('fire', 0,4.112,-189.018,0,0,0,0.5 ,0.1 ,1.762 );
		a.og('fire', 0,4.112,-191.238,0,0,0,2 ,0.1 ,4 ); //60
		a.og('fire', 0,4.112,-195.176,0,0,0,0.5 ,0.1 ,4 );
		a.og('fire', 0,4.112,-198.662,0,0,0,2 ,0.1 ,4 );
		a.og('fire', 0,4.112,-204.835,0,0,0,2.15 ,0.1 ,8.845 );

		a.og('ice', 0,4.299,-202.75,0,0,0,0.2 ,1 ,1.5 ); // 64 rotte
		a.og('ice', 0,4.299,-204.996,0,0,0,0.2 ,1 ,1.5 ); // 65 rotte
		a.og('ice', 0,4.299,-207.114,0,0,0,0.2 ,1 ,1.5 ); // 66 rotte

		a.og('fire', -0.83,4.112,-210.465,-17.132,0,0,0.596 ,0.1 ,3.096 );
		a.og('fire', -1.831,4.112,-213.712,-17.132,0,0,2 ,0.1 ,4 );
		a.og('fire', -3.109,4.112,-217.24,0,0,0,2 ,0.1 ,4 );

	//
		a.og('fire', -3.109,4.349,-220.389,0,9.437,0,2 ,0.1 ,4 );
		a.og('fire', -3.109,4.63,-223.15,0,0,0,2 ,0.1 ,1.685 );
		a.og('fire', -3.109,4.71,-224.73,0,9.68,0,2 ,0.1 ,1.685 );
		a.og('fire', -3.109,5.201,-227.607,0,9.68,0,2 ,0.1 ,1.685 );
		a.og('fire', -3.109,5.661,-230.303,0,9.68,0,2 ,0.1 ,1.685 );
		a.og('fire', -3.93,4.98,-226.308,0,9.68,0,1.026 ,0.1 ,1.685 );
		a.og('fire', -2.543,5.438,-228.997,0,9.68,0,1.013 ,0.1 ,1.685 );

	//

		a.og('ice', -3.109,4.784,-232.356,0,0,0,2 ,0.1 ,1.685 );
		a.og('ice', -3.109,4.784,-234.745,0,0,0,1.151 ,0.1 ,3.608 );
		a.og('ice', -3.109,4.784,-237.309,0,0,0,2 ,0.1 ,4 );
		a.og('ice', -4.328,4.784,-240.079,-35.496,0,0,2 ,0.1 ,4 );
		a.og('ice', -4.777,4.784,-243.712,0,0,0,0.678 ,0.1 ,4 );
		a.og('ice', -4.777,4.784,-246.798,0,0,0,2 ,0.1 ,4 ); // ENDNG

		a.og_end(4.777,4.894, -247, 0);

	},
	post: function() {
		cc.set_monkey("speed", 0.2);
		cc.set_monkey("steer", 0.03);
		cc.refresh();
	},
    section_id: 0,
    section_update: function() {
    },
    reset: function() {
        this.section_id = 0;
		cleanup.run(false);
		this.init();
    },
    physics_update: function() {},
    render_update: function() {
    	iv(player, scene);
    }
}

function iv(box, scene) {
	if ((box.position.z < -74) && (box.position.z > -90)) {
		speed = 0.5 * 2.0;
	} else if ((box.position.z < -160) && (box.position.z > -162)) {
		speed = 0.5 * 2.0;
	} else {
		if (box.position.z < -1) {
			speed = 0.5 * 0.4;
		}
	}

	if (box.position.z < -110) {
		scene.getMeshByName("P35").rotation.y += 0.5 *  0.1;
		scene.getMeshByName("P36").rotation.y -= 0.5 *  0.1;
		scene.getMeshByName("P37").rotation.y += 0.5 *  0.1;
		scene.getMeshByName("P38").rotation.y -= 0.5 *  0.1;
		scene.getMeshByName("P39").rotation.y += 0.5 *  0.1;
		scene.getMeshByName("P40").rotation.y -= 0.5 *  0.1;
		scene.getMeshByName("P41").rotation.y += 0.5 *  0.1;
	}
	if (box.position.z < -200) {
		scene.getMeshByName("P64").rotation.y += 0.5 *  0.1;
		scene.getMeshByName("P64").position.x -= 0.5 *  0.2;

		scene.getMeshByName("P65").rotation.y -= 0.5 *  0.1;
		scene.getMeshByName("P65").position.x += 0.5 *  0.2;

		scene.getMeshByName("P66").rotation.y += 0.5 *  0.1;
		scene.getMeshByName("P66").position.x -= 0.5 *  0.2;
	}
}

