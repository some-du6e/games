var map = {
    title: "4D Demon Cinema",
    song: "env2",
    maker: "Dododo73",
    spawn: [0,0.5,0],

    init: function() {
      a.e([-11.867,4.648,-282.589]);
      a.p([-11.859,4.226,-281.495],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-13.442,4.226,-277.61],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-16.49,4.596,-262.046],[-0.0,0.0,0.0],[0.906,0.556,21.337]);
      a.p([-15.018,4.226,-273.708],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-16.49,4.596,-262.046],[-0.0,0.0,0.0],[0.906,0.556,21.337]);
      a.p([-16.072,4.226,-262.046],[-0.0,0.0,0.0],[0.906,0.5,21.337]);
      a.p([-15.018,4.226,-249.568],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-15.018,4.226,-245.392],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-13.85,4.226,-241.528],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-15.569,4.226,-237.743],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-15.569,4.226,-226.89],[-0.0,0.0,0.0],[1.314,0.5,17.37]);
      a.p([-15.569,5.916,-222.414],[-0.0,0.0,0.0],[3.987,0.5,5.166]);
      a.p([-16.014,3.81,-216.551],[-0.0,0.393,0.0],[1.441,1.815,7.87]);
      a.p([-15.113,3.81,-216.551],[-0.0,0.393,0.0],[1.441,1.815,7.87]);
      a.p([-15.569,4.226,-209.632],[-0.0,0.0,0.0],[3.987,0.5,17.11]);
      a.p([-16.541,4.226,-167.797],[0.43,0.0,0.0],[2.0,0.5,6.975]);
      a.p([-15.512,4.226,-187.314],[-0.0,0.0,0.0],[5.824,0.5,7.008]);
      a.p([-16.169,4.226,-181.547],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-17.697,4.226,-177.322],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-17.697,4.226,-173.082],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([-9.497,4.226,-160.177],[0.871,0.0,0.0],[2.0,0.5,14.158]);
      a.p([-0.719,4.226,-152.903],[-0.0,0.0,0.0],[7.038,0.5,6.601]);
      a.p([11.829,8.0,-145.439],[-0.0,0.0,0.785],[2.0,2.0,17.059]);
      a.p([11.829,5.953,-133.821],[-0.0,0.0,0.0],[2.0,0.5,6.601]);
      a.p([9.599,5.953,-128.237],[-0.703,0.0,0.0],[2.0,0.5,6.601]);
      a.p([7.454,5.953,-122.938],[-0.0,0.0,0.0],[2.0,0.5,6.601]);
      a.p([7.454,4.134,-117.043],[-0.0,0.432,0.0],[2.0,1.911,6.601]);
      a.p([7.454,0.712,-91.811],[-0.0,0.0,0.0],[2.0,0.5,3.283]);
      a.p([7.454,0.712,-87.989],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([11.703,3.506,-103.748],[-0.0,0.0,0.0],[2.0,0.5,6.998]);
      a.p([7.454,3.506,-110.784],[-0.0,0.0,0.0],[2.0,0.5,6.601]);
      a.p([9.086,0.0,-26.57],[-0.228,0.0,0.0],[2.0,0.5,3.779]);
      a.p([4.275,0.0,-16.693],[-0.486,0.0,0.0],[2.0,0.5,17.823]);
      a.p([8.38,0.712,-83.828],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([7.454,0.712,-79.484],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([7.841,0.712,-75.462],[0.268,0.0,0.0],[2.0,0.5,4.0]);
      a.p([9.766,0.712,-71.92],[0.615,-0.0,0.0],[2.0,0.5,4.0]);
      a.p([11.809,0.712,-68.225],[0.411,0.0,0.0],[2.0,0.5,4.0]);
      a.p([12.698,0.712,-64.403],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([12.698,0.359,-60.367],[-0.0,0.196,0.0],[2.0,0.5,4.0]);
      a.p([11.271,0.0,-56.342],[-0.0,0.0,0.0],[5.01,0.5,4.0]);
      a.p([9.694,0.0,-47.947],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([9.694,0.0,-52.127],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.p([9.694,0.0,-30.511],[-0.0,0.224,0.0],[2.0,1.196,4.0]);
      a.p([-0.0,0.0,-5.568],[-0.0,0.0,0.0],[2.0,0.5,6.958]);
      a.p([-0.0,0.0,-0.0],[-0.0,0.0,0.0],[2.0,0.5,4.0]);
      a.c([-15.525,4.622,-204.309]);
      a.c([-16.728,6.559,-223.699]);
      a.c([-15.525,6.559,-223.699]);
      a.c([-14.22,6.559,-223.699]);
      a.c([-13.68,4.905,-185.044]);
      a.c([-17.688,4.905,-185.044]);
      a.c([9.58,0.72,-56.267]);
    },
    post: function() {
      scene.getMeshByName('P12').unfreezeWorldMatrix();
      scene.getMeshByName('P12').material = decorations.materials.moving_mat;
      scene.getMeshByName('P13').unfreezeWorldMatrix();
      scene.getMeshByName('P13').material = decorations.materials.moving_mat;
      scene.getMeshByName('P22').unfreezeWorldMatrix();
      scene.getMeshByName('P22').material = decorations.materials.moving_mat;
      scene.getMeshByName('P27').unfreezeWorldMatrix();
      scene.getMeshByName('P27').material = decorations.materials.moving_mat;
      scene.getMeshByName('P29').unfreezeWorldMatrix();
      scene.getMeshByName('P29').material = decorations.materials.moving_mat;
      scene.getMeshByName('P33').unfreezeWorldMatrix();
      scene.getMeshByName('P33').material = decorations.materials.moving_mat;
    },
    section_id: 0,
    section_update: function() {
      let PZ = player.position.z;
      switch(this.section_id) {
         case 0:
             if (PZ < -32.182) {
                 speed = default_speed * 2;
                 update.set_gravity(default_gravity * 0.18);
                 this.section_id += 1;
             }
             break;
         case 1:
             if (PZ < -46.29) {
                 speed = default_speed * 1;
                 update.set_gravity(default_gravity * 1);
                 this.section_id += 1;
             }
             break;
         case 2:
             if (PZ < -79.513) {
                 this.section_id += 1;
             }
             break;
         case 3:
             scene.getMeshByName('P33').position.x += 0.05;
             if (PZ < -91.34) {
                 update.set_gravity(default_gravity * -3.5);
                 this.section_id += 1;
             }
             break;
         case 4:
             scene.getMeshByName('P27').scaling.y += 0.2;
             if (PZ < -92.799) {
                 update.set_gravity(default_gravity * 1);
                 this.section_id += 1;
             }
             break;
         case 5:
             scene.getMeshByName('P29').position.x += -0.07;
             if (PZ < -115.874) {
                 this.section_id += 1;
             }
             break;
         case 6:
             scene.getMeshByName('P22').rotation.z += 0.02;
             scene.getMeshByName('P22').rotation.y += -0.01;
             if (PZ < -150.309) {
                 this.section_id += 1;
             }
             break;
         case 7:
             if (PZ < -190.443) {
                 steer = default_steer * 0.6;
                 update.set_gravity(default_gravity * -0.1);
                 speed = default_speed * 2;
                 this.section_id += 1;
             }
             break;
         case 8:
             if (PZ < -200.393) {
                 steer = default_steer * 1;
                 update.set_gravity(default_gravity * 1);
                 this.section_id += 1;
             }
             break;
         case 9:
             scene.getMeshByName('P12').position.x += -0.03;
             scene.getMeshByName('P13').position.x += 0.03;
             if (PZ < -215.233) {
                 this.section_id += 1;
             }
             break;
         case 10:
             if (PZ < -215.233) {
                 this.section_id += 1;
             }
             break;
         case 11:
             if (PZ < -229.14) {
                 speed = default_speed * 1;
                 this.section_id += 1;
             }
             break;
      }
    },
    reset: function() {
      this.section_id = 0;
      scene.getMeshByName('P12').position.x=-16.014;
      scene.getMeshByName('P12').position.y=3.81;
      scene.getMeshByName('P12').position.z=-216.551;
      scene.getMeshByName('P13').position.x=-15.113;
      scene.getMeshByName('P13').position.y=3.81;
      scene.getMeshByName('P13').position.z=-216.551;
      scene.getMeshByName('P22').rotationQuaternion = BABYLON.Quaternion.RotationAxis(new BABYLON.Vector3(0,0,0),0);
      scene.getMeshByName('P22').rotation.x=0.0;
      scene.getMeshByName('P22').rotation.y=-0.0;
      scene.getMeshByName('P22').rotation.z=0.785;
      scene.getMeshByName('P27').scaling.x=2.0;
      scene.getMeshByName('P27').scaling.y=0.5;
      scene.getMeshByName('P27').scaling.z=3.283;
      scene.getMeshByName('P29').position.x=11.703;
      scene.getMeshByName('P29').position.y=3.506;
      scene.getMeshByName('P29').position.z=-103.748;
      scene.getMeshByName('P33').position.x=8.38;
      scene.getMeshByName('P33').position.y=0.712;
      scene.getMeshByName('P33').position.z=-83.828;
    },
    physics_update: function() {
    },
    render_update: function() {
    }
}
