var map = {
    title: "Cats can fly",
    song: "env2",
    maker: "dododo73",
    spawn: [0, 0.5, 0],
    init: function() {

		function pup(a2, b, c, d, e, f, g, h, i, j) {
			a.og(a2,b,c,d,e,f,g,h,i,j);
		}

		a.og('green', 0,0,0,0,0,0,2 ,0.1 ,4 ); //0
		a.og('green', 0.401,0,-3.83,0,0,0,2 ,0.1 ,4 );
		a.og('green', -0.135,0,-7.444,-16.491,0,0,2 ,0.1 ,4 );
		a.og('brown', -1.262,0,-11.248,0,0,0,0.912 ,0.1 ,4 ); //3
		a.og('green', -2.021,0,-13.814,-16.491,0,0,2 ,0.1 ,1.277 );
		a.og('green', -1.586,0,-17.763,0,0,0,2 ,0.1 ,1.277 );
		a.og('brown', -2.614,0,-15.647,0,0,0,0.912 ,0.1 ,3.001 ); //6
		a.og('green', -1.586,0,-20.647,0,0,0,0.953 ,0.1 ,4.711 );
		a.og('green', -1.586,0,-25.152,0,0,0,2.044 ,0.1 ,4.711 );
		a.og('green', -0.227,0,-28.91,21.748,0,0,0.958 ,0.1 ,4.711 );
		a.og('green', -0.817,0,-30.817,-11.729,0,0,0.958 ,0.1 ,4.711 ); // 0
		a.og('green', -0.385,0,-33.895,15.437,0,0,0.958 ,0.1 ,4.711 );
		a.og('green', -0.782,0,-40.286,0,0,0,0.958 ,0.1 ,10.479 );
		a.og('green', -1.485,0.414,-39.19,-12.247,7.584,-1.641,0.603 ,0.1 ,7.164 );
		a.og('green', -2.931,0.745,-45.929,-11.979,-1.784,-1.627,0.603 ,0.1 ,7.164 );
		a.og('green', -2.807,0,-46.984,-25.967,0,0,0.958 ,0.1 ,10.479 );
		a.og('green', -3.599,0.573,-52.002,-1.939,-1.473,-1.913,0.603 ,0.1 ,7.164 );
		a.og('green', -5.297,0,-55.33,-5.922,0,0,0.958 ,0.1 ,10.479 );
		a.og('green', -5.085,-0.261,-58.049,-24.617,-10.31,-1.152,0.603 ,0.1 ,7.164 );
		a.og('green', -5.054,0,-59.454,-5.922,0,0,1.305 ,0.1 ,5.76 );
		a.og('green', -5.667,0,-65.364,-5.922,0,0,2.865 ,0.1 ,6.679 ); // 0
		a.og('green', -2.002,0,-71.477,-5.922,0,0,1.318 ,0.1 ,8.921 );
		a.og('brown', -3.408,0,-68.72,28.204,0,0,0.216 ,0.1 ,6.172 );
		a.og('brown', -2.992,0,-66.807,28.204,0,0,0.333 ,0.1 ,6.172 ); // 3
		a.og('green', -3.655,0,-77.122,-21.544,0,0,0.942 ,0.1 ,8.921 );
		a.og('green', -4.873,0,-83.663,20.157,0,0,0.942 ,0.1 ,8.921 );
		a.og('green', -3.809,0,-87.603,-0.639,0,0,0.942 ,0.1 ,8.921 );
		a.og('green', -3.987,0,-93.895,21.288,0,0,0.942 ,0.1 ,8.921 );
		a.og('green', -1.695,0,-100.125,0,0,0,2.575 ,0.1 ,7.705 );
		a.og('green', 0.449,0,-106.112,26.097,0,0,0.53 ,0.1 ,7.705 );
		a.og('fire', -1.523,0.314,-99.953,0,0,0,1.182 ,1.219 ,0.398 ); // 0
		a.og('green', 1.96,0,-112.927,0,0,0,0.73 ,0.1 ,7.705 );
		a.og('green', 1.586,0,-115.947,5.704,0,0,1.362 ,0.1 ,4.533 );
		a.og('green', 2.833,0,-119.183,23.449,0,0,0.762 ,0.1 ,4.533 );
		a.og('green', 4.316,0,-123.879,0,0,0,2 ,0.1 ,6 );
		a.og('fire', 4.316,0,-126.688,0,7.464,0,2 ,0.1 ,1.308 );
		a.og('fire', 4.316,0.279,-128.819,0,7.464,0,2 ,0.1 ,1.308 );
		a.og('fire', 3.816,0.145,-127.791,0,7.464,0,1 ,0.1 ,1.308 );
		a.og('fire', 4.316,0.576,-131.085,0,7.464,0,2 ,0.1 ,1.308 );
		a.og('fire', 4.816,0.416,-129.867,0,7.464,0,1 ,0.1 ,1.308 );
		a.og('fire', 4.316,0.647,-132.524,0,0,0,2 ,0.1 ,1.647 ); // 0
		a.og('ice', 5.433,0.087,-133.911,0,0,0,0.9 ,0.1 ,1.647 );
		a.og('ice', 3.238,0.087,-133.911,0,0,0,0.9 ,0.1 ,1.647 );
		a.og('ice', 2.52,0.087,-135.372,0,0,0,0.9 ,0.1 ,1.647 );
		a.og('ice', 5.66,0.087,-135.372,0,0,0,0.9 ,0.1 ,1.647 );
		a.og('ice', 5.66,0.087,-136.781,0,0,0,0.9 ,0.1 ,1.647 );
		a.og('ice', 5.227,0.087,-138.323,0,0,0,0.9 ,0.1 ,1.647 );
		a.og('ice', 4.316,0.087,-141.058,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('ice', 5.347,0.28,-143.622,9.783,4.945,0,0.728 ,0.1 ,4.306 );
		a.og('green', 4.316,0,-147.079,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('green', 4.316,0.279,-151.285,0,8.795,0,1.96 ,0.1 ,4.306 ); // 0
		a.og('green', 4.316,0.579,-155.466,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('green', 4.316,0.579,-159.013,0,0,0,1.96 ,0.1 ,4.306 ); // slide X++2
		a.og('green', 4.316,0.579,-162.882,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('brown', 4.316,0.579,-168.577,0,0,0,0.9 ,0.1 ,7.659 ); // slide X++4
		a.og('green', 4.316,0.579,-174.23,0,0,0,1.96 ,0.1 ,4.306 ); // 5
		a.og('green', 5.341,0.579,-178.379,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('green', 3.56,0.579,-182.621,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('green', 7.12,0.579,-182.621,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('green', 7.12,0.579,-189.938,0,0,0,1.96 ,0.1 ,4.306 );
		a.og('green', 3.56,0.579,-189.938,0,0,0,1.96 ,0.1 ,4.306 ); // 0
		a.og('brown', 7.12,0.579,-186.706,0,0,0,1.96 ,0.1 ,4.306 ); // slide X++1
		a.og('green', 3.01,0.579,-193.724,-14.878,0,0,1.96 ,0.1 ,4.306 );
		a.og('green', 2.489,0.579,-198.177,0,0,0,1.96 ,0.1 ,5.242 );
		a.og('green', 2.024,0.866,-201.264,0,7.953,0,0.781 ,0.1 ,5.242 );
		a.og('green', 2.489,1.205,-206.383,0,0,0,1.96 ,0.1 ,5.242 ); // ENDIN!

		a.og_end(-2.489, 1.305, -207.383, 0);

		this.number = 0.0;
	},
	post: function() {
		cc.set_monkey("speed", 0.2);
		cc.set_monkey("steer", 0.03);
		cc.set_monkey("light.intensity", 1.5);
		cc.refresh();
	},
    section_id: 0,
    section_update: function() {
    },
    reset: function() {
        this.section_id = 0;
		cleanup.run(false);
		this.init();
    },
    physics_update: function() {},
    render_update: function() {
    	iv(player, scene);
    }
}

function iv(box, scene) {
	if (box.position.z < -5) {
		scene.getMeshByName("P3").position.x += 0.05 * 0.5;
	}
	if (box.position.z < -10) {
		scene.getMeshByName("P6").position.x -= 0.05 * 0.5;
	}
	if (box.position.z < -150) {
		scene.getMeshByName("P52").position.x -= 0.05 * 0.5;
	}
	if (box.position.z < -160) {
		map.number += 0.1 * 0.5;
		scene.getMeshByName("P54").position.x = -4.316 + Math.sin(map.number);
	}
	if (box.position.z < -170) {
		scene.getMeshByName("P61").position.x += 0.05 * 0.5;
	}
}
