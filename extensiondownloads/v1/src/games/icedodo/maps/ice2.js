var map = {
    title: "Snowboarder",
    song: "env2",
    maker: "Dododo73",
    spawn: [0,0.5,0],

    init: function() {
      a.e([-0.0,4.501,-265.786]);
      a.p([-0.146,3.976,-264.603],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-0.146,3.976,-259.283],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-0.146,3.976,-247.161],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-0.146,3.976,-242.036],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-0.146,3.387,-237.105],[-0.0,0.274,0.0],[3.0,0.5,5.0]);
      a.p([-2.308,2.034,-232.296],[-0.0,0.274,0.0],[3.0,0.5,5.0]);
      a.p([-0.245,0.733,-227.67],[-0.0,0.274,0.0],[3.0,0.5,5.0]);
      a.p([-0.245,0.0,-222.595],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-4.316,0.0,-208.318],[-0.0,0.0,0.0],[5.179,0.5,23.648]);
      a.p([-1.7,0.0,-194.848],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([2.483,0.0,-189.667],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-2.126,0.0,-184.461],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-2.126,0.0,-179.081],[-0.0,0.0,0.0],[3.0,0.5,5.0]);
      a.p([-13.175,0.0,-152.764],[-0.0,0.0,0.0],[4.327,0.5,9.967]);
      a.p([-8.14,0.0,-167.376],[-0.0,0.0,0.0],[18.868,0.5,18.352]);
      a.p([-1.045,0.0,0.57],[-0.072,0.0,0.0],[3.0,0.5,7.0]);
      a.p([-0.29,0.0,-6.586],[-0.134,0.0,0.0],[3.0,0.5,7.0]);
      a.p([0.672,0.0,-13.722],[-0.134,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-1.003,0.0,-27.658],[-5.748,0.0,0.612],[9.15,5.337,22.827]);
      a.p([-11.789,0.0,-37.075],[-5.339,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-17.709,0.0,-41.173],[-5.315,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-23.642,0.0,-45.252],[-5.315,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-27.492,-0.715,-57.947],[-0.081,0.0,-0.563],[6.78,5.398,31.333]);
      a.p([-21.031,0.0,-69.384],[-1.089,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-14.649,0.0,-72.717],[-1.089,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-8.267,0.0,-76.051],[-1.089,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-1.886,0.0,-79.385],[-1.089,0.0,0.0],[2.0,0.5,7.0]);
      a.p([4.39,0.0,-82.912],[-1.051,0.0,0.0],[2.0,0.5,7.0]);
      a.p([10.64,0.0,-86.487],[-1.051,0.0,0.0],[2.0,0.5,7.0]);
      a.p([19.312,1.076,-96.53],[-0.185,0.0,0.632],[11.749,4.523,27.393]);
      a.p([17.363,0.0,-110.102],[-5.586,0.0,0.0],[2.0,0.5,7.0]);
      a.p([12.016,0.0,-114.903],[-5.391,0.0,0.0],[2.0,0.5,7.0]);
      a.p([6.411,0.0,-119.421],[-5.391,0.0,0.0],[2.0,0.5,7.0]);
      a.p([0.805,0.0,-123.94],[-5.391,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-4.8,0.0,-128.459],[-5.391,0.0,0.0],[2.0,0.5,7.0]);
      a.p([-8.14,0.0,-138.269],[-0.0,0.0,0.0],[18.868,0.5,18.352]);
      a.c([-5.937,0.646,-216.982]);
      a.c([-2.987,0.646,-207.335]);
      a.c([-5.424,0.646,-200.744]);
      a.c([-7.815,0.572,-169.652]);
    },
    post: function() {
      scene.getMeshByName('P2').unfreezeWorldMatrix();
      scene.getMeshByName('P2').material = decorations.materials.moving_mat;
      scene.getMeshByName('P10').unfreezeWorldMatrix();
      scene.getMeshByName('P10').material = decorations.materials.moving_mat;
      scene.getMeshByName('P13').unfreezeWorldMatrix();
      scene.getMeshByName('P13').material = decorations.materials.moving_mat;
    },
    section_id: 0,
    section_update: function() {
        let PZ = player.position.z;
        switch(this.section_id) {
           case 0:
               if (PZ < -123.2) {
                   this.section_id += 1;
               }
               break;
           case 1:
               scene.getMeshByName('P13').position.x += 0.07;
               if (PZ < -166.475) {
                   this.section_id += 1;
               }
               break;
           case 2:
               scene.getMeshByName('P10').position.x += -0.05;
               if (PZ < -197.493) {
                   this.section_id += 1;
               }
               break;
           case 3:
               if (PZ < -246.136) {
                   this.section_id += 1;
               }
               break;
           case 4:
               scene.getMeshByName('P2').position.z += -0.2;
               if (PZ < -257.19) {
                   this.section_id += 1;
               }
               break;
        }
    },
    reset: function() {
      this.section_id = 0;
      scene.getMeshByName('P2').position.x=-0.146;
      scene.getMeshByName('P2').position.y=3.976;
      scene.getMeshByName('P2').position.z=-247.161;
      scene.getMeshByName('P10').position.x=2.483;
      scene.getMeshByName('P10').position.y=0.0;
      scene.getMeshByName('P10').position.z=-189.667;
      scene.getMeshByName('P13').position.x=-13.175;
      scene.getMeshByName('P13').position.y=0.0;
      scene.getMeshByName('P13').position.z=-152.764;
    },
    physics_update: function() {
    },
    render_update: function() {
    }
}
