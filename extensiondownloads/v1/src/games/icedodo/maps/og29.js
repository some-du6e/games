var map = {
    title: "Derp",
    song: "env2",
    maker: "dododo73",
    spawn: [0, 10.5, 0],
    init: function() {

		function pup(a2, b, c, d, e, f, g, h, i, j) {
			a.og(a2,b,c,d,e,f,g,h,i,j);
		}

		// function a.og(t, a2, b, c, a1, b1, c1, a2, b2, c2) {
		// 	a.og(t, a2, b - 5, c, a1, b1, c1, a2, b2, c2);
		// }
		
		a.og('brown', 0,0,0,0,0,0,2 ,10 ,4 );
		a.og('brown', 0.936,0,-3.698,0,0,0,2 ,10 ,4 );
		a.og('brown', -0.773,0,-6.294,0,0,0,2 ,10 ,4 );
		a.og('brown', 0.74,0,-9.599,0,0,0,2 ,10 ,4 );
		a.og('brown', 1.947,0,-12.612,0,0,0,2 ,10 ,4 );
		a.og('brown', 1.947,0,-22.803,0,0,0,2 ,10 ,4 );
		a.og('green', 1.947,4.75,-17.904,0,0,0,2 ,0.5 ,7.332 );
		a.og('brown', 0.96,0,-25.794,-31.517,0,0,2 ,10 ,4 );
		a.og('brown', -0.044,0,-28.802,3.048,0,0,2 ,10 ,4 );
		a.og('green', -1.731,4.75,-32.936,-27.074,0,0,2 ,0.5 ,7.332 );
		a.og('brown', -3.157,0,-36.781,3.048,0,0,2 ,10 ,4 ); //10
		a.og('brown', -4.842,0,-40.455,3.048,0,0,2 ,10 ,4 );
		a.og('brown', -1.399,0,-40.253,3.048,0,0,2 ,10 ,4 );
		a.og('green', -2.982,4.184,-40.06,3.048,0,0,2 ,0.5 ,4 );
		a.og('green', -2.786,3.679,-43.744,3.048,0,0,1 ,0.5 ,4 );
		a.og('green', -2.603,3.368,-47.185,3.048,0,0,1 ,0.5 ,4 );
		a.og('green', -2.429,3.174,-50.448,3.048,0,0,1 ,0.5 ,4 );
		a.og('green', -1.442,3.174,-54.177,3.048,0,0,1 ,0.5 ,4 );
		a.og('green', -2.881,3.174,-57.524,-46.848,0,0,1 ,0.5 ,4 );
		a.og('brown', -3.422,2.987,-60.336,6.851,0,0,1 ,0.5 ,4 );
		a.og('brown', -1.95,2.613,-63.385,46.114,0,0,1 ,0.5 ,4 ); //20
		a.og('brown', -0.453,2.987,-57.354,29.409,0,0,1 ,0.5 ,4 );
		a.og('green', 0.585,2.833,-60.997,5.86,0,0,1 ,0.5 ,4 );
		a.og('green', 0.095,2.72,-63.407,-32.733,0,0,1 ,0.5 ,1.981 );
		a.og('green', -1.766,2.297,-66.303,-32.733,0,0,1 ,0.5 ,4.217 );
		a.og('green', -2.664,2.297,-69.972,2.959,0,0,1 ,0.5 ,4.217 );
		a.og('brown', -1.941,2.032,-72.818,2.959,0,0,1 ,0.5 ,4.217 );
		a.og('brown', -2.591,1.729,-75.509,2.959,0,0,1 ,0.5 ,4.217 );
		a.og('brown', -1.691,1.729,-79.043,2.959,0,0,1 ,0.5 ,4.217 );
		a.og('green', -1.422,-3.373,-82.875,3.048,0,0,2 ,10 ,4 );
		a.og('green', 0.147,-3.373,-86.168,3.048,0,0,2 ,10 ,4 ); //30
		a.og('green', -0.522,-3.373,-89.652,3.048,0,0,2 ,10 ,4 );
		a.og('brown', -0.316,-3.062,-93.523,3.048,7.967,0,2 ,10 ,4 );
		a.og('green', -0.138,-2.543,-96.875,3.048,11.172,0,2 ,10 ,4 );
		a.og('fire', 0.496,-3.373,-108.769,3.048,0,0,2 ,10 ,4 );
		a.og('fire', 0.705,-3.373,-112.696,3.048,0,0,2 ,10 ,4 );
		a.og('fire', 2.071,-3.373,-115.814,3.048,0,0,2 ,10 ,4 );
		a.og('ice', 2.335,-3.396,-120.784,3.048,0,0,0.302 ,10 ,6.027 );
		a.og('fire', 2.592,-3.373,-125.599,3.048,0,0,2 ,10 ,4 );
		a.og('fire', 0.611,-3.373,-110.939,3.048,0,0,9.29 ,10 ,9.962 );

		a.og('fire', 5.534,-3.373,-125.442,3.048,0,0,2 ,10 ,4 ); //40
		a.og('ice', 5.277,-3.396,-120.628,3.048,0,0,0.302 ,10 ,6.027 );
		a.og('fire', 5.013,-3.373,-115.657,3.048,0,0,2 ,10 ,4 );
		a.og('fire', -3.074,-3.373,-125.901,3.048,0,0,2 ,10 ,4 );
		a.og('ice', -3.331,-3.396,-121.086,3.048,0,0,0.302 ,10 ,6.027 );
		a.og('fire', -3.595,-3.373,-116.115,3.048,0,0,2 ,10 ,4 );
		a.og('fire', -0.615,-3.373,-115.957,3.048,0,0,2 ,10 ,4 );
		a.og('ice', -0.35,-3.396,-120.927,3.048,0,0,0.302 ,10 ,6.027 );
		a.og('fire', -0.093,-3.373,-125.742,3.048,0,0,2 ,10 ,4 );

		a.og('fire', 4.125,-3.373,-128.155,3.048,0,0,2 ,10 ,4 );
		a.og('fire', -1.542,-3.373,-128.457,3.048,0,0,2 ,10 ,4 ); //50
		a.og('fire', 1.614,-3.373,-131.085,-45,0,0,4 ,10 ,4 );
		a.og('fire', 1.824,-3.373,-134.825,3.048,0,0,2 ,10 ,4 );

		a.og('ice', 2.144,-0.017,-140.838,3.048,0,0,2 ,2 ,8.252 ); // 53 rotat Z
		a.og('green', 2.558,-0.389,-148.61,3.048,0,0,7.098 ,0.1 ,8.252 );
		a.og('green', 2.838,-0.389,-153.879,3.048,0,0,2 ,0.1 ,4 );
		a.og('green', 3.025,-0.208,-157.393,3.048,6.769,0,2 ,0.1 ,4 );
		a.og('green', 4.547,0.242,-161.103,3.048,6.769,0,2 ,0.1 ,4 );
		a.og('green', 2.972,0.645,-164.59,3.048,6.769,0,2 ,0.1 ,4 );
		a.og('green', 1.289,1.084,-168.384,3.048,6.769,0,2 ,0.1 ,4 );
		a.og('green', 1.366,1.237,-172.259,0,0,0,2 ,0.1 ,4 );
		a.og('ice', 1.366,-3.73,-175.243,0,0,0,2 ,10 ,4 );	// ENDIG!


		a.og_end(-1.366, -3.73 + 5, -175.243, 0);


		this.liftupVel = 0.1;
	},
	post: function() {
		cc.set_monkey("speed", 0.2);
		cc.set_monkey("steer", 0.03);
		cc.refresh();
	},
    section_id: 0,
    section_update: function() {
    },
    reset: function() {
        this.section_id = 0;
		cleanup.run(false);
		this.init();
    },
    physics_update: function() {},
    render_update: function() {
    	iv(player, scene);
    }
}

function iv(box, scene) {
	if (box.position.z < -1) {
		if ((box.position.z < -60) && (box.position.z > -80)) {
			speed = 0.5 * 0.2;
		} else if ((box.position.z < -96) && (box.position.z > -108)) {
			box.position.y += 0.5 * map.liftupVel;
			map.liftupVel += 0.5 * 0.2 * 0.8;
			//map.liftupVel *= 1.5;
		} else {
			speed = 0.5 * 0.4;
		}
	}

	if (box.position.z < -120) {
		scene.getMeshByName('P53').rotation.z += 0.5 *  0.1;
	}
}


