var map = {
    title: "-___-",
    song: "env2",
    maker: "dododo73",
    spawn: [0, 0.5, 0],
    init: function() {

		function pup(a2, b, c, d, e, f, g, h, i, j) {
			a.og(a2,b,c,d,e,f,g,h,i,j);
		}

		function plane_fn(t, a9, b, c, a1, b1, c1, a2, b2, c2) {
			a.og(t, a9, b - 5, c, a1, b1, c1, a2, b2, c2);
		}

		plane_fn('brown', 0,0,0,0,0,0,2 ,10 ,4 );
		plane_fn('green', 0,-0.427,-3.471,0,0,0,2 ,10 ,4 );
		plane_fn('green', 1.217,-0.427,-7.256,0,0,0,2 ,10 ,4 );
		plane_fn('brown', 1.217,-0.377,-9.266,0,0,0,2 ,10 ,0.255 );
		plane_fn('green', 1.217,-0.323,-9.438,0,0,0,2 ,10 ,0.255 );
		plane_fn('brown', 1.217,-0.267,-9.611,0,0,0,2 ,10 ,0.255 );
		plane_fn('brown', 1.217,-0.267,-11.699,-90,0,0,4.098 ,10 ,0.255 );
		plane_fn('brown', 1.217,-0.267,-14.355,0,0,0,2 ,10 ,1.608 );
		plane_fn('brown', 2.352,-0.267,-17.325,0,0,0,0.49 ,10 ,6.025 );
		plane_fn('green', 2.179,4.645,-22.272,0,4.322,0,0.49 ,0.493 ,6.025 );
		plane_fn('green', 2.896,5.037,-27.457,14.782,4.18,1.102,0.49 ,0.493 ,6.025 ); //10
		plane_fn('green', 4.079,5.446,-32.872,12.978,4.064,0.97,0.49 ,0.493 ,6.025 );
		plane_fn('green', 4.177,5.856,-38.486,-6.719,4.153,-0.455,0.49 ,0.493 ,6.025 );
		plane_fn('green', 3.495,6.28,-44.272,-6.719,4.153,-0.455,4 ,0.493 ,8 );
		plane_fn('green', 6.317,6.616,-48.908,57.704,2.207,3.548,1 ,0.493 ,4 );
		plane_fn('green', 8.313,6.781,-51.18,27.361,3.696,1.948,1 ,0.493 ,4 );
		plane_fn('green', 9.941,7.01,-54.326,27.361,3.696,1.948,2 ,0.493 ,4 );
		plane_fn('green', 12.01,7.235,-57.42,-4.124,4.169,-0.267,2 ,0.493 ,4 );
		plane_fn('green', 10.555,7.488,-60.878,-4.124,4.169,-0.267,2 ,0.493 ,4 );
		plane_fn('green', 9.221,7.728,-64.152,-4.124,4.169,-0.267,2 ,0.493 ,4 );
		plane_fn('green', 10.467,7.999,-67.869,20.123,3.912,1.467,0.489 ,0.493 ,4 ); //20
		plane_fn('green', 11.732,8.217,-70.859,-4.124,4.169,-0.267,2 ,0.493 ,4 );
		plane_fn('green', 11.424,7.98,-75.135,0,0,0,2 ,0.493 ,4 );
		plane_fn('green', 13.241,7.98,-78.951,0,0,0,2 ,0.493 ,4 );
		plane_fn('green', 10.938,7.98,-82.38,-17.104,0,0,2 ,0.493 ,4 );
		plane_fn('green', 8.864,7.98,-85.269,3.384,0,0,2 ,0.493 ,4 );
		plane_fn('green', 7.9,7.98,-90.209,3.384,0,0,0.992 ,0.493 ,7.311 );
		plane_fn('green', 9.006,7.98,-95.812,3.384,0,0,0.992 ,0.493 ,7.311 );
		plane_fn('green', 9.415,7.98,-102.715,0,0,0,0.992 ,0.493 ,7.311 );
		plane_fn('green', 9.415,7.98,-107.954,0,0,0,2 ,0.493 ,4 );
		plane_fn('green', 10.793,8.035,-111.695,0,4.302,0,2 ,0.493 ,4 ); //30
		plane_fn('ice', 6.959,7.174,-116.739,0,0,0,5.09 ,0.493 ,6.848 );
		plane_fn('ice', 3.826,7.174,-121.518,0,0,0,2 ,0.493 ,4 );
		plane_fn('ice', 3.061,7.174,-126.187,0,0,0,0.747 ,0.493 ,6.249 );
		plane_fn('ice', 1.798,7.174,-130.999,0,0,0,2.872 ,0.493 ,6.249 );
		plane_fn('fire', -0.612,7.488,-135.881,-27.813,5.835,0,0.446 ,0.493 ,6.249 );
		plane_fn('ice', -2.541,7.619,-141.22,0,0,0,2.872 ,0.493 ,6.249 );
		plane_fn('ice', -3.448,7.619,-147.432,0,0,0,2.872 ,0.493 ,6.249 );
		plane_fn('ice', -2.634,7.619,-153.623,0,0,0,1.053 ,0.493 ,6.249 ); // move38
		plane_fn('ice', -6.036,7.619,-159.321,0,0,0,2.872 ,0.493 ,6.249 );
		plane_fn('ice', -7.435,7.619,-165.089,3.284,0,0,0.783 ,0.493 ,6.249 );
		plane_fn('ice', -6.732,7.619,-170.973,10.414,0,0,0.783 ,0.493 ,6.249 );
		plane_fn('fire', -5.346,6.816,-168.733,-14.011,0,0,1.783 ,0.493 ,6.249 );
		plane_fn('ice', -5.902,7.619,-175.487,10.414,0,0,4.321 ,0.493 ,9.583 );
		plane_fn('fire', -5.523,6.816,-174.518,10.414,0,0,2.15 ,0.493 ,6.889 );
		plane_fn('ice', -2.779,7.619,-192.479,10.414,0,0,16.575 ,0.493 ,26.97 );
		plane_fn('fire', -4.399,6.816,-180.634,10.414,0,0,2.15 ,0.493 ,6.889 );
		plane_fn('ice', -2.786,-2.022,-189.412,10.414,0,0,11.617 ,0.493 ,13.011 );
		plane_fn('ice', -0.643,-2.022,-201.073,10.414,0,0,2.589 ,0.493 ,13.011 );
		plane_fn('ice', 2.822,-2.022,-211.854,10.414,0,0,0.772 ,0.1 ,10 );
		plane_fn('ice', 4.054,-2.022,-218.555,10.414,0,0,2 ,0.1 ,4 ); // ENDNG

		a.og_end(-4.054,-2.022 - 5, -218.555, 0);
	},
	post: function() {
		cc.set_monkey("speed", 0.2);
		cc.set_monkey("steer", 0.03);
		cc.refresh();
	},
    section_id: 0,
    section_update: function() {
    },
    reset: function() {
        this.section_id = 0;
		cleanup.run(false);
		this.init();
    },
    physics_update: function() {},
    render_update: function() {
    	iv(player, scene);
    }
}

function iv(box, scene) {
	if (box.position.z < -149) {
		scene.getMeshByName('P38').position.x += 0.5 *  0.1;
	}

	if (box.position.z < -1) {
		if ((box.position.z < -50) && (box.position.z > -95)) {
			speed = 0.5 * 0.3;
		} else {
			speed = 0.5 * 0.4;
		}
	}
}


