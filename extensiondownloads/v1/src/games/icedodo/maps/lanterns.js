var map = {
    title: "lanterns",
    song: "env2",
    maker: "Carrots",
    spawn: [0, 0.5, 0],
    init: function() {
        a.p([0, -0.9998600000000001, -19], [-3.14, 0, 0], [4, 1, 40], 2.0, 0, 0, 0.6, false);
        a.p([-3.65, -1.00979, -47.27], [-2.75, 0, 0], [4, 1, 20], 2.0, 0, 0, 0.6, false);
        a.p([-17.57, -0.9997199999999999, -66.44], [-2.36, 0, 0], [4, 1, 30], 2.0, 0, 0, 0.6, false);
        a.p([-35.56, -1.00965, -82.18], [-2.18, 0, 0], [4, 1, 19], 2.0, 0, 0, 0.6, false);
        a.p([-47.44, -1, -93.57], [-2.53, 0, 0], [4, 1, 16], 2.0, 0, 0, 0.6, false);
        a.p([-52.3, -1.00993, -107.12], [-3.05, 0, 0], [4, 1, 16], 2.0, 0, 0, 0.6, false);
        a.p([-50.32, -0.99979, -121.56], [-3.49, 0, 0], [4, 1, 16], 2.0, 0, 0, 0.6, false);
        a.p([-42.8, -1.00972, -134.5], [-3.84, 0, 0], [4, 1, 16], 2.0, 0, 0, 0.6, false);
        a.p([-28.18, -0.99965, -157.26], [-3.67, 0, 0], [4, 1, 40], 2.0, 0, 0, 0.6, false);
        a.p([-13.13, -1.01, -180.4], [-0.7, 0, 0], [4, 1, 16], 2.0, 0, 0, 0.6, false);
        a.p([-4.28, -0.99993, -197.08], [-0.35, 0, 0], [4, 1, 24], 2.0, 0, 0, 0.6, false);
        a.p([1.41, -1.00986, -217.85], [-0.17, 0, 0], [4, 1, 20], 2.0, 0, 0, 0.6, false);
        a.p([3.12, -1.01979, -243.27], [0, 0, 0], [4, 1, 32], 2.0, 0, 0, 0.6, false);
        a.p([4.49, -2.1297200000000003, -266.66], [-3.32, 0.14, 0], [4, 1, 16], 2.0, 0, 0, 0.6, false);
        a.p([8.23, -3.6996499999999997, -278.09], [-3.67, 0.09, 0], [4, 1, 10], 2.0, 0, 0, 0.6, false);
        a.p([13.24, -4.12, -284.31], [-4.01, 0, 0], [4, 1, 8], 2.0, 0, 0, 0.6, false);
        a.y([8, 0.00007000000000000001, -35.23], [0, 0, 0], [4, 8, 4], 1.0, 0, 0, 0.6);
        a.y([-44.66, 0.00014000000000000001, -102.6], [0, 0, 0], [4, 8, 4], 1.0, 0, 0, 0.6);
        a.y([-11.83, 0.00021, -199.06], [0, 0, 0], [4, 8, 4], 1.0, 0, 0, 0.6);
        a.y([17.27, 1.00028, -287.7], [0, 0, 0], [2, 6, 2], 1.0, 0, 0, 0.6);
        a.y([8, -4.99965, -35.23], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([8, 5, -35.23], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([8, 4.00007, -35.23], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([8, -3.99986, -35.23], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([8, 4.50021, -35.23], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([8, 5.00028, -35.23], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([-44.66, 5.00035, -102.6], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([-44.66, 4.5, -102.6], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([-44.66, -3.99993, -102.6], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([-44.66, 4.00014, -102.6], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([-44.66, 5.00021, -102.6], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([-44.66, -4.99972, -102.6], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([-11.83, -4.99965, -199.06], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([-11.83, 5, -199.06], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([-11.83, 4.00007, -199.06], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([-11.83, -3.99986, -199.06], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([-11.83, 4.50021, -199.06], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([-11.83, 5.00028, -199.06], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([17.27, 5.00035, -287.7], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([17.27, 4.5, -287.7], [0, 0, 0], [7, 0.2, 7], 2.0, 0, 0, 0.6);
        a.y([17.27, -3.99993, -287.7], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([17.27, 4.00014, -287.7], [0, 0, 0], [8, 0.5, 8], 2.0, 0, 0, 0.6);
        a.y([17.27, 5.00021, -287.7], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([17.27, -4.99972, -287.7], [0, 0, 0], [6, 2, 6], 2.0, 0, 0, 0.6);
        a.y([8, 0.00035000000000000005, -35.23], [0, 0, 0], [6, 8, 6], 3.0, 0, 0, 0.6);
        a.y([-44.66, 0, -102.6], [0, 0, 0], [6, 8, 6], 3.0, 0, 0, 0.6);
        a.y([-11.83, 0.00007000000000000001, -199.06], [0, 0, 0], [6, 8, 6], 3.0, 0, 0, 0.6);
        a.y([17.27, 0.50014, -287.7], [0, 0, 0], [6, 8, 6], 3.0, 0, 0, 0.6);
        a.y([8, 149.91021, -35.23], [0, 0, 0], [30, 0.2, 30], 1, 0, 0, 0.6);
        a.y([8, 148.91028, -35.23], [0, 0, 0], [50, 0.2, 50], 1, 0, 0, 0.6);
        a.y([8, 145.91035, -35.23], [0, 0, 0], [70, 0.2, 70], 1, 0, 0, 0.6);
        a.y([-44.66, 145.91, -102.6], [0, 0, 0], [70, 0.2, 70], 1, 0, 0, 0.6);
        a.y([-44.66, 148.91007, -102.6], [0, 0, 0], [50, 0.2, 50], 1, 0, 0, 0.6);
        a.y([-44.66, 149.91013999999998, -102.6], [0, 0, 0], [30, 0.2, 30], 1, 0, 0, 0.6);
        a.y([-11.83, 149.91021, -199.06], [0, 0, 0], [30, 0.2, 30], 1, 0, 0, 0.6);
        a.y([-11.83, 148.91028, -199.06], [0, 0, 0], [50, 0.2, 50], 1, 0, 0, 0.6);
        a.y([-11.83, 145.91035, -199.06], [0, 0, 0], [70, 0.2, 70], 1, 0, 0, 0.6);
        a.y([17.27, 145.91, -287.7], [0, 0, 0], [70, 0.2, 70], 1, 0, 0, 0.6);
        a.y([17.27, 148.91007, -287.7], [0, 0, 0], [50, 0.2, 50], 1, 0, 0, 0.6);
        a.y([17.27, 149.91013999999998, -287.7], [0, 0, 0], [30, 0.2, 30], 1, 0, 0, 0.6);
        a.e([17.27, -2.99979, -287.7]);
    },
    post: function() {
        cc.set_monkey("scene.ambientColor", new BABYLON.Color3.FromHexString("#fcd112"));
        cc.set_monkey("light.groundColor", new BABYLON.Color3.FromHexString("#fcd112"));
        cc.set_monkey("light.specular", new BABYLON.Color3.FromHexString("#fcd112"));
        cc.set_monkey("light.diffuse", new BABYLON.Color3.FromHexString("#fcd112"));
        cc.set_monkey("camera.maxZ", 35.0);
        //cc.set_monkey("light.intensity", 0.1);
        cc.refresh();
    },
    section_id: 0,
    section_update: function() {
        let PZ = player.position.z;
        // light.intensity = Math.cos(PZ * Math.PI / 94);
        light.intensity = 0.4 * Math.cos((PZ + 20) * Math.PI / 94 * 2) + 0.7;

        
        switch (this.section_id) {
            case 0:
                if (PZ < -2.01) {
                    //light.intensity = 0.5;
                    this.section_id += 1
                }
                break;
            case 1:
                if (PZ < -11.99) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 2:
                if (PZ < -12.01) {
                    //light.intensity = 1.0;
                    this.section_id += 1
                }
                break;
            case 3:
                if (PZ < -22.990000000000002) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 4:
                if (PZ < -23.009999999999998) {
                    //light.intensity = 2.0;
                    this.section_id += 1
                }
                break;
            case 5:
                if (PZ < -44.99) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 6:
                if (PZ < -45) {
                    //light.intensity = 1.0;
                    this.section_id += 1
                }
                break;
            case 7:
                if (PZ < -55) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 8:
                if (PZ < -55) {
                    //light.intensity = 0.5;
                    this.section_id += 1
                }
                break;
            case 9:
                if (PZ < -62) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 10:
                if (PZ < -73) {
                    //light.intensity = 0.5;
                    this.section_id += 1
                }
                break;
            case 11:
                if (PZ < -81) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 12:
                if (PZ < -81) {
                    //light.intensity = 1.0;
                    this.section_id += 1
                }
                break;
            case 13:
                if (PZ < -88) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 14:
                if (PZ < -88) {
                    //light.intensity = 2.0;
                    this.section_id += 1
                }
                break;
            case 15:
                if (PZ < -114.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 16:
                if (PZ < -114.5) {
                    //light.intensity = 1.0;
                    this.section_id += 1
                }
                break;
            case 17:
                if (PZ < -127.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 18:
                if (PZ < -127.5) {
                    //light.intensity = 0.5;
                    this.section_id += 1
                }
                break;
            case 19:
                if (PZ < -137.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 20:
                if (PZ < -165.5) {
                    //light.intensity = 0.5;
                    this.section_id += 1
                }
                break;
            case 21:
                if (PZ < -174.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 22:
                if (PZ < -174.5) {
                    //light.intensity = 1.0;
                    this.section_id += 1
                }
                break;
            case 23:
                if (PZ < -184.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 24:
                if (PZ < -184.5) {
                    //light.intensity = 2.0;
                    this.section_id += 1
                }
                break;
            case 25:
                if (PZ < -208.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 26:
                if (PZ < -208.5) {
                    //light.intensity = 1.0;
                    this.section_id += 1
                }
                break;
            case 27:
                if (PZ < -219.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 28:
                if (PZ < -219.5) {
                    //light.intensity = 0.5;
                    this.section_id += 1
                }
                break;
            case 29:
                if (PZ < -230.5) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 30:
                if (PZ < -256.75) {
                    //light.intensity = 0.5;
                    this.section_id += 1
                }
                break;
            case 31:
                if (PZ < -266.75) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 32:
                if (PZ < -266.75) {
                    //light.intensity = 1.0;
                    this.section_id += 1
                }
                break;
            case 33:
                if (PZ < -276.75) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
            case 34:
                if (PZ < -276.75) {
                    //light.intensity = 2.0;
                    this.section_id += 1
                }
                break;
            case 35:
                if (PZ < -300.75) {
                    //light.intensity = cc.get("light.intensity", null);
                    this.section_id += 1
                }
                break;
        }
    },
    reset: function() {
        this.section_id = 0;
        a.re('P0', [0, -0.9998600000000001, -19], [-3.14, 0, 0], [4, 1, 40]);
        a.re('P1', [-3.65, -1.00979, -47.27], [-2.75, 0, 0], [4, 1, 20]);
        a.re('P2', [-17.57, -0.9997199999999999, -66.44], [-2.36, 0, 0], [4, 1, 30]);
        a.re('P3', [-35.56, -1.00965, -82.18], [-2.18, 0, 0], [4, 1, 19]);
        a.re('P4', [-47.44, -1, -93.57], [-2.53, 0, 0], [4, 1, 16]);
        a.re('P5', [-52.3, -1.00993, -107.12], [-3.05, 0, 0], [4, 1, 16]);
        a.re('P6', [-50.32, -0.99979, -121.56], [-3.49, 0, 0], [4, 1, 16]);
        a.re('P7', [-42.8, -1.00972, -134.5], [-3.84, 0, 0], [4, 1, 16]);
        a.re('P8', [-28.18, -0.99965, -157.26], [-3.67, 0, 0], [4, 1, 40]);
        a.re('P9', [-13.13, -1.01, -180.4], [-0.7, 0, 0], [4, 1, 16]);
        a.re('P10', [-4.28, -0.99993, -197.08], [-0.35, 0, 0], [4, 1, 24]);
        a.re('P11', [1.41, -1.00986, -217.85], [-0.17, 0, 0], [4, 1, 20]);
        a.re('P12', [3.12, -1.01979, -243.27], [0, 0, 0], [4, 1, 32]);
        a.re('P13', [4.49, -2.1297200000000003, -266.66], [-3.32, 0.14, 0], [4, 1, 16]);
        a.re('P14', [8.23, -3.6996499999999997, -278.09], [-3.67, 0.09, 0], [4, 1, 10]);
        a.re('P15', [13.24, -4.12, -284.31], [-4.01, 0, 0], [4, 1, 8]);
        a.re('Y0', [8, 0.00007000000000000001, -35.23], [0, 0, 0], [4, 8, 4]);
        a.re('Y1', [-44.66, 0.00014000000000000001, -102.6], [0, 0, 0], [4, 8, 4]);
        a.re('Y2', [-11.83, 0.00021, -199.06], [0, 0, 0], [4, 8, 4]);
        a.re('Y3', [17.27, 1.00028, -287.7], [0, 0, 0], [2, 6, 2]);
        a.re('Y4', [8, -4.99965, -35.23], [0, 0, 0], [6, 2, 6]);
        a.re('Y5', [8, 5, -35.23], [0, 0, 0], [6, 2, 6]);
        a.re('Y6', [8, 4.00007, -35.23], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y7', [8, -3.99986, -35.23], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y8', [8, 4.50021, -35.23], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y9', [8, 5.00028, -35.23], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y10', [-44.66, 5.00035, -102.6], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y11', [-44.66, 4.5, -102.6], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y12', [-44.66, -3.99993, -102.6], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y13', [-44.66, 4.00014, -102.6], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y14', [-44.66, 5.00021, -102.6], [0, 0, 0], [6, 2, 6]);
        a.re('Y15', [-44.66, -4.99972, -102.6], [0, 0, 0], [6, 2, 6]);
        a.re('Y16', [-11.83, -4.99965, -199.06], [0, 0, 0], [6, 2, 6]);
        a.re('Y17', [-11.83, 5, -199.06], [0, 0, 0], [6, 2, 6]);
        a.re('Y18', [-11.83, 4.00007, -199.06], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y19', [-11.83, -3.99986, -199.06], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y20', [-11.83, 4.50021, -199.06], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y21', [-11.83, 5.00028, -199.06], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y22', [17.27, 5.00035, -287.7], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y23', [17.27, 4.5, -287.7], [0, 0, 0], [7, 0.2, 7]);
        a.re('Y24', [17.27, -3.99993, -287.7], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y25', [17.27, 4.00014, -287.7], [0, 0, 0], [8, 0.5, 8]);
        a.re('Y26', [17.27, 5.00021, -287.7], [0, 0, 0], [6, 2, 6]);
        a.re('Y27', [17.27, -4.99972, -287.7], [0, 0, 0], [6, 2, 6]);
        a.re('Y28', [8, 0.00035000000000000005, -35.23], [0, 0, 0], [6, 8, 6]);
        a.re('Y29', [-44.66, 0, -102.6], [0, 0, 0], [6, 8, 6]);
        a.re('Y30', [-11.83, 0.00007000000000000001, -199.06], [0, 0, 0], [6, 8, 6]);
        a.re('Y31', [17.27, 0.50014, -287.7], [0, 0, 0], [6, 8, 6]);
        a.re('Y32', [8, 149.91021, -35.23], [0, 0, 0], [30, 0.2, 30]);
        a.re('Y33', [8, 148.91028, -35.23], [0, 0, 0], [50, 0.2, 50]);
        a.re('Y34', [8, 145.91035, -35.23], [0, 0, 0], [70, 0.2, 70]);
        a.re('Y35', [-44.66, 145.91, -102.6], [0, 0, 0], [70, 0.2, 70]);
        a.re('Y36', [-44.66, 148.91007, -102.6], [0, 0, 0], [50, 0.2, 50]);
        a.re('Y37', [-44.66, 149.91013999999998, -102.6], [0, 0, 0], [30, 0.2, 30]);
        a.re('Y38', [-11.83, 149.91021, -199.06], [0, 0, 0], [30, 0.2, 30]);
        a.re('Y39', [-11.83, 148.91028, -199.06], [0, 0, 0], [50, 0.2, 50]);
        a.re('Y40', [-11.83, 145.91035, -199.06], [0, 0, 0], [70, 0.2, 70]);
        a.re('Y41', [17.27, 145.91, -287.7], [0, 0, 0], [70, 0.2, 70]);
        a.re('Y42', [17.27, 148.91007, -287.7], [0, 0, 0], [50, 0.2, 50]);
        a.re('Y43', [17.27, 149.91013999999998, -287.7], [0, 0, 0], [30, 0.2, 30]);
        a.re('E0', [17.27, -2.99979, -287.7], [0, 0, 0], [1, 1, 1]);
    },
    physics_update: function() {},
    render_update: function() {}
}
