var map = {
    title: "ISKL",
    song: "env2",
    maker: "dododo73",
    spawn: [0, 0.5, 0],
    init: function() {

		function pup(a2, b, c, d, e, f, g, h, i, j) {
			a.og(a2,b,c,d,e,f,g,h,i,j);
		}
		a.og('ice2', 0,0,0,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', 1.236,0,-5.913,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -0.032,0,-11.764,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -1.996,0,-17.673,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -0.032,0,-23.523,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -5.544,-0.01,-31.632,-37.944,0,0,1 ,0.3 ,15 );
		a.og('ice2', -10.741,0,-39.861,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -10.741,0,-45.87,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -12.714,0,-51.835,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -8.103,-0.01,-60.935,29.796,0,0,1 ,0.3 ,15 );
		a.og('ice2', -3.427,0,-70.117,0,0,0,3 ,0.3 ,6 );
		a.og_c(0.224,-11.519,1.021);
		a.og_c(0.224,-11.519,-0.918);
		a.og_c(0.224,-17.681,2.718);
		a.og_c(0.224,-23.667,-0.572);
		a.og_c(0.224,-44.048,11.61);
		a.og_c(0.224,-46.529,9.725);
		a.og_c(0.224,-40.778,10.477);
		a.og_c(0.224,-52.474,12.47);
		a.og_c(0.224,-70.163,3.48);
		a.og('fire', -5.324,-0.163,-73.931,0,0,0,3 ,0.3 ,2.254 );
		a.og('fire', -4.34,-0.442,-76.198,0,0,0,3 ,0.3 ,2.254 );
		a.og('fire', -4.34,-1.055,-80.809,0,0,0,3 ,0.3 ,2.254 );
		a.og('fire', -5.324,-0.776,-78.543,0,0,0,3 ,0.3 ,2.254 );
		a.og('fire', -3.427,-1.242,-85.208,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -1.443,-2.04,-98.123,0,0,0,11.865 ,0.3 ,18.62 );
		a.og('fire', -3.427,-1.352,-94.664,0,0,0,1 ,0.3 ,12.13 );
		a.og('fire', -0.533,-1.352,-105.492,29.208,0,0,1 ,0.3 ,12.033 );

		a.og('ice2', 2.497,-1.477,-111.729,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', 5.106,-1.477,-117.057,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', 6.366,-1.477,-123.073,0,0,0,3 ,0.3 ,6 );

		a.og('ice2', 6.366,-1.477,-129.158,0,0,0,3 ,0.3 ,6 ); // 22
		a.og('ice2', 6.366,-1.477,-135.28,0,0,0,3 ,0.3 ,6 ); // 23
		a.og('ice2', 6.366,-1.477,-141.427,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -5.084,-1.477,-159.685,0,0,0,3 ,0.3 ,6 ); // 25
		a.og('ice2', -5.084,-1.477,-153.538,0,0,0,3 ,0.3 ,6 ); 
		a.og('ice2', -5.084,-1.477,-147.416,0,0,0,3 ,0.3 ,6 ); // 27


		a.og('ice2', -5.084,-1.477,-165.812,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -7.096,-1.581,-171.919,0,0,0,1 ,0.3 ,6 );
		a.og('ice2', -3.022,-1.581,-171.919,0,0,0,1 ,0.3 ,6 );
		a.og('ice2', -5.084,-1.694,-177.748,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -5.084,-1.694,-186.383,0,0,0,0.705 ,0.3 ,11.062 );
		a.og('ice2', -5.084,-1.694,-195.089,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -3.059,-1.694,-201.255,20.758,0,0,3 ,0.3 ,6 );
		a.og('ice2', -3.059,-1.694,-209.349,20.758,0,0,3 ,0.3 ,6 );
		a.og('ice2', 0.162,-1.694,-216.513,-3.057,0,0,3 ,0.3 ,6 );
		a.og('ice2', -3.483,-1.694,-224.194,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -1.921,-1.694,-230.997,0,0,0,3 ,0.3 ,6 );
		a.og('ice2', -3.904,-1.694,-237.118,0,0,0,3 ,0.3 ,6 );
		a.og_c(-1.424,-177.145,5.173);
		a.og_c(-1.424,-194.678,5.619);
		a.og_c(-1.424,-235.975,2.889);
		a.og_c(-1.424,-237.97,4.838);

		a.og('ice2', -3.059,-1.747,-205.098,-3.533,0,0,0.714 ,0.3 ,3.024 );
		a.og('ice2', -1.306,-1.747,-212.797,21.102,0,0,0.714 ,0.3 ,3.024 );
		a.og('ice2', -1.698,-1.747,-220.076,-25.777,0,0,0.714 ,0.3 ,3.024 );
		a.og('ice2', -2.612,-1.747,-226.884,9.596,0,0,0.714 ,0.3 ,3.024 );

		a.og('ice2', -2.348,-1.694,-242.849,21.038,0,0,3 ,0.3 ,6 );
		a.og_c(-1.424,-244.774,1.774);
		a.og_c(-1.424,-241.996,2.018);
		a.og('ice2', 0.722,-1.694,-247.639,21.038,0,0,0.531 ,0.3 ,6 );
		a.og('ice2', 1.886,-1.694,-252.892,0,0,0,3 ,0.3 ,6 );
		a.og_c(-1.424,-252.654,-1.534);
		a.og('ice2', 3.363,-1.526,-258.926,0,4.026,0,3 ,0.3 ,6 );
		a.og('ice2', 1.101,-1.417,-265.036,0,0,0,3 ,0.3 ,6 );




		a.og_end(-1.101, -1.417, -265.036, 40);
	},
	post: function() {
		cc.set_monkey("speed", 0.2);
		cc.set_monkey("steer", 0.03);
		cc.refresh();
	},
    section_id: 0,
    section_update: function() {
    },
    reset: function() {
        this.section_id = 0;
		cleanup.run(false);
		this.init();
    },
    physics_update: function() {},
    render_update: function() {
    	iv(player, scene);
    }
}

function iv(box, scene) {
	
	if ((box.position.z < -120) && (box.position.z > -170)) {
		scene.getMeshByName('P22').position.x += 0.5 *  0.025;
		scene.getMeshByName('P23').position.x += 0.5 *  0.05;
		scene.getMeshByName('P24').position.x += 0.5 *  0.075;

		scene.getMeshByName('P25').position.x -= 0.5 *  0.025;
		scene.getMeshByName('P26').position.x -= 0.5 *  0.05;
		scene.getMeshByName('P27').position.x -= 0.5 *  0.075;
	}
	
	if ((box.position.z < -195) && (box.position.z > -205)) {
		if (box.scaling.x >= 0.7) {
			box.scaling.x -= 0.5 *  0.2;
			box.scaling.z -= 0.5 *  0.2;
			speed = 0.5 * 0.2; // maybe delete.
		}
	}
	if ((box.position.z < -244) && (box.position.z > -262)) {
		if (box.scaling.x <= 1.0) {
			box.scaling.x += 0.5 *  0.2;
			box.scaling.z += 0.5 *  0.2;
			speed = 0.5 * 0.4; // maybe delete.
		}
	}
}


